# Staging Environment Configuration
# This is a template file - actual secrets should be configured on the server

# Docker Image Configuration
DOCKER_REGISTRY=ghcr.io
IMAGE_NAME=your-org/dygsom-fraud-api
IMAGE_TAG=staging-latest

# Environment
NODE_ENV=staging
ENVIRONMENT=staging
DEBUG=false
LOG_LEVEL=DEBUG

# Database Configuration
DATABASE_URL=postgresql://postgres:CHANGE_ME@postgres:5432/dygsom_staging?schema=public
POSTGRES_USER=postgres
POSTGRES_PASSWORD=CHANGE_ME_STAGING_DB_PASSWORD
POSTGRES_DB=dygsom_staging
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_TIMEOUT=30

# Redis Configuration
REDIS_URL=redis://redis:6379/0
REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# Security
JWT_SECRET=CHANGE_ME_STAGING_JWT_SECRET_KEY
API_KEY_SALT=CHANGE_ME_STAGING_API_KEY_SALT
API_KEY_PREFIX=dygsom_
API_KEY_LENGTH=32

# Rate Limiting
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_WINDOW_SECONDS=60
IP_RATE_LIMIT_PER_MINUTE=50

# Caching Configuration
CACHE_L1_MAX_SIZE=1000
CACHE_DEFAULT_TTL=60
CACHE_VELOCITY_TTL=60
CACHE_IP_HISTORY_TTL=300
CACHE_CUSTOMER_HISTORY_TTL=60

# Fraud Detection Business Rules
FRAUD_MAX_TX_PER_HOUR=5
FRAUD_MAX_TX_PER_DAY=20
FRAUD_MAX_AMOUNT_PER_DAY=10000.00
FRAUD_SCORE_LOW_THRESHOLD=0.3
FRAUD_SCORE_MEDIUM_THRESHOLD=0.5
FRAUD_SCORE_HIGH_THRESHOLD=0.8

# ML Model
ML_MODEL_VERSION=v2.0.0-xgboost
ML_MODEL_PATH=ml/models/fraud_model.joblib

# Logging & Monitoring
SENTRY_DSN=https://your-sentry-dsn-for-staging@sentry.io/project-id
ENABLE_SWAGGER=true

# Monitoring (Day 7)
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
PROMETHEUS_SCRAPE_INTERVAL=10s
GRAFANA_PORT=3001
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_STAGING_GRAFANA_PASSWORD

# CORS
CORS_ORIGINS=http://staging.dygsom.com,http://localhost:3000

# Notifications
SLACK_WEBHOOK=https://hooks.slack.com/services/YOUR/STAGING/WEBHOOK
