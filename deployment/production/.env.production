# Production Environment Configuration
# This is a template file - actual secrets MUST be configured on the production server
# NEVER commit actual production secrets to version control

# Docker Image Configuration
DOCKER_REGISTRY=ghcr.io
IMAGE_NAME=your-org/dygsom-fraud-api
IMAGE_TAG=production-latest

# Environment
NODE_ENV=production
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# Database Configuration
# CRITICAL: Change all passwords before deployment
DATABASE_URL=postgresql://postgres:CHANGE_ME_PRODUCTION_DB_PASSWORD@postgres:5432/dygsom_production?schema=public
POSTGRES_USER=postgres
POSTGRES_PASSWORD=CHANGE_ME_PRODUCTION_DB_PASSWORD
POSTGRES_DB=dygsom_production
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=40
DATABASE_POOL_TIMEOUT=30

# Redis Configuration
REDIS_URL=redis://redis:6379/0
REDIS_MAX_CONNECTIONS=100
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# Security - CRITICAL: Change before deployment
JWT_SECRET=CHANGE_ME_PRODUCTION_JWT_SECRET_MINIMUM_32_CHARS
API_KEY_SALT=CHANGE_ME_PRODUCTION_API_KEY_SALT_MINIMUM_32_CHARS
API_KEY_PREFIX=dygsom_
API_KEY_LENGTH=32

# Rate Limiting - Production values (more restrictive)
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_WINDOW_SECONDS=60
IP_RATE_LIMIT_PER_MINUTE=30

# Caching Configuration - Production optimized
CACHE_L1_MAX_SIZE=2000
CACHE_DEFAULT_TTL=300
CACHE_VELOCITY_TTL=60
CACHE_IP_HISTORY_TTL=600
CACHE_CUSTOMER_HISTORY_TTL=120

# Fraud Detection Business Rules
FRAUD_MAX_TX_PER_HOUR=5
FRAUD_MAX_TX_PER_DAY=20
FRAUD_MAX_AMOUNT_PER_DAY=10000.00
FRAUD_SCORE_LOW_THRESHOLD=0.3
FRAUD_SCORE_MEDIUM_THRESHOLD=0.5
FRAUD_SCORE_HIGH_THRESHOLD=0.8

# ML Model
ML_MODEL_VERSION=v2.0.0-xgboost
ML_MODEL_PATH=ml/models/fraud_model.joblib

# Logging & Monitoring
SENTRY_DSN=https://your-production-sentry-dsn@sentry.io/project-id
ENABLE_SWAGGER=false  # CRITICAL: Disabled in production for security

# Monitoring (Day 7)
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
PROMETHEUS_SCRAPE_INTERVAL=15s
GRAFANA_PORT=3001
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_PRODUCTION_GRAFANA_PASSWORD

# CORS - Production domains only
CORS_ORIGINS=https://app.dygsom.com,https://www.dygsom.com

# Notifications
SLACK_WEBHOOK=https://hooks.slack.com/services/YOUR/PRODUCTION/WEBHOOK

# Backup Configuration (Optional)
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
